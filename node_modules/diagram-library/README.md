# Diagram Library for JavaScript and TypeScript

A diagram library that enables you to build any type of graph, flowchart, tree, org chart, diagram, process chart, database schema and much more. Includes a huge variety of prdefined node and link shapes, automatic layout algorithms, many import and export options.

## Installing

For the latest stable version:

```
npm i diagram-library
```

### JS Diagram 4.0.1

Js Diagram 4.0 and all future versions of the library are moved into scoped packages. You can download the scoped package from [https://www.npmjs.com/package/@mindfusion/diagramming](https://www.npmjs.com/package/@mindfusion/diagramming).

### JS Diagram 3.5.4

##### Stock themes
The library now includes nine stock themes, accessible via respective static methods of the Theme class. Call the setTheme method of Diagram to apply a theme.

![The earth theme](https://mindfusion.eu/images/javascript/diagram/library/jsdiag_earth.png "Earth theme")

##### Miscellaneous
- The [MoveNodes](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_Behavior_0.htm) behavior allows grabbing nodes to drag them without using adjustment handles.
- New [SelectedBrush](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_Style_setSelectedBrush_1_Object.htm) and [SelectedStroke](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_Style_setSelectedStroke_1_Object.htm) properties of [Style](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_Style_0.htm) used to draw selected items.
- [CaptionBackBrush](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_Style_setCaptionBackBrush_1_Object.htm) of [ContainerNode](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_ContainerNode_0.htm) and [TableNode](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_TableNode_0.htm) objects can now be set via Style instead of nodes' own properties.
- Fix for [resizeToFitText](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_TableNode_resizeToFitText_2_Boolean_Boolean_1.htm) not calculating correct size when cells have&nbsp;text padding applied.
- [BackColor](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_NodeListView_setBackColor_1_String.htm) and [TextColor](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_NodeListView_setTextColor_1_String.htm) properties added to [NodeListView](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?T_MindFusion_Diagramming_NodeListView.htm).
- [ToolTip](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_AnchorPoint_setToolTip_1_void.htm) property of [AnchorPoint](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_AnchorPoint_0.htm) shows tooltip text when mouse hovers over the point.
- New Scripting.js sample project demonstrates [ControlNode](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?T_MindFusion_Diagramming_ControlNode_0.htm) objects and graph traversal.


### JS Diagram 3.5.3

##### Adjustment handles styling
Appearance of adjustment handles can be customized via ActiveItemHandlesStyle, SelectedItemHandlesStyle and DisabledHandlesStyle properties. The HandlesVisualStyle objects returned by them provide sub-properties corresponding to graphic attributes of the different handle types. Adjustment handles can now be painted not only in solid color but with arbitrary brushes such as gradients and patterns.

##### Miscellaneous
- nodeTextEditing, linkTextEditing and cellTextEditing validation events let you prevent users from editing a specific item.
- XML serialization fixes.
- Fixed rendering of joints for links with larger strokeThickness and more than one segment.
- ActiveItem reference is now serialized in JSON format.
- Fix for scroll position serialization in virtual scroll mode.


### JS Diagram 3.5.2

##### TopologicalLayout 
TopologicalLayout applies graph topological ordering to the diagram (topological ordering of a graph is one where link's origin node is placed before link's destination node). The layout algorithm arranges nodes in a row or a column, depending on the value of the direction property, in such a way that there are no backward links when the graph is acyclic. If the graph contains cycles, the algorithms selects ordering with as few backward links as possible. Links that connect non-adjacent nodes are rendered as arcs, whose amplitude is proportional to the distance between respective connected nodes. Forward links are rendered at one side of the nodes and back links are rendered at the opposite side. All that makes it easy to discern graph features such as overall flow direction, cycles and nested cycles. 


### JS Diagram 3.5.1

#### Virtual scroll improvements

- The control now handles mouse wheel events to scroll the diagram when virtual scrolling is enabled.
- DOM elements that implement virtual scroll mode now use CSS grid layout. You might need to adjust page layout to apply size constraints on the diagram div or its parent. For compatibility with older browsers, you can set CompatConfig.gridLayout = false to fall back to the absolute positioning from previous versions.
- [VirtualScroll](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_Diagram_setVirtualScroll_1_Boolean.htm) mode is now enabled by default.

#### Electron compatibility

Serialization and clipboard operations should now work under Electron.js. In previous versions they would throw exceptions due to restricted use of eval.

#### Miscellaneous

- Mouse pointer position is now provided as argument to [nodeCreated](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?F_MindFusion_Diagramming_Events_nodeCreated.htm) and [linkCreated](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?F_MindFusion_Diagramming_Events_linkCreated.htm) events.
- [Visibility](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Drawing_ComponentBase_setVisibility_1_Visibility.htm) property added to [CompositeNode](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?T_MindFusion_Diagramming_CompositeNode_0.htm) components lets you keep invisible components in the template.
- General performance improvements.
    Collapse / expand icon is now drawn correctly for [CompositeNode](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?T_MindFusion_Diagramming_CompositeNode_0.htm) when [Expandable](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_M_MindFusion_Diagramming_DiagramNode_setExpandable_1_Boolean_0.htm) is enabled.
- Json deserialization no longer creates undo records.

#### API changes

For compatibility with MindFusion diagramming API for other platforms, [StrokeThickness](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Diagramming_DiagramItem_setStrokeThickness_1_Number.htm) is now specified in diagram's [MeasureUnit](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?M_MindFusion_Drawing_Canvas_setMeasureUnit_1_MeasureUnit.htm) instead of pixels. You can set [CompatConfig.pixelThickness](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?F_MindFusion_Diagramming_CompatConfig_pixelThickness.htm)= true in order to revert to using pixel values.

### JS Diagram 3.5

- Control nodes, which display custom HTML content, specified via their Template property.
- Composite nodes can now contain buttons, which can show images and text.
- Content of CompositeNodes is now clipped by default if Shape in the template is marked with isOutline attribute. To disable that, set ClipToOutline to false.
- Improvements in expandable nodes.



#### React support

The DiagramView React component allows integrating the MindFusion.Diagramming API into React applications. It renders a [Diagram](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_Diagram_0.htm) instance assigned to "diagram" prop as its model. Most diagram properties can be set from JSX, and all diagram events can be handled through JSX syntax as well. For more information, see the [Integration with React](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?React.htm) topic. 

[The DiagramView component for Rect on npm.](https://www.npmjs.com/package/diagram-library-react)

#### Vue.js support

The diagram-view Vue.js component allows integrating the MindFusion.Diagramming API into Vue.js applications. It renders a [Diagram](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_Diagram_0.htm) instance assigned to "diagram" prop as its model. Most diagram properties can be set from the vue template, and all diagram events can be handled through the v-on directive as well. For more information, see the [Integration with Vue.js topic.](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?Vue_js.htm)

[The DiagramView component for Vue on npm.](https://www.npmjs.com/package/diagram-library-vue)

#### Angular support

The diagram-view Angular component allows integrating the MindFusion.Diagramming API into Angular applications. It renders a [Diagram](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_T_MindFusion_Diagramming_Diagram_0.htm) instance assigned to "diagram" property as its model. Most diagram properties can be set from the html template, and all diagram events can be handled through event binding syntax as well. For more information, see the [Integration with Angular topic.](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?Angular.htm)

[The DiagramView component for Angular on npm.](https://www.npmjs.com/package/diagram-library-angular)

The diagram library is also included in [MindFusion Pack for JavaScript.](https://mindfusion.eu/javascript-pack.html)

## Documentation

1. [Detailed API Reference](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm)
2. [Tutorials and Step-by-step Guides](https://www.mindfusion.eu/onlinehelp/jsdiagram/index.htm?CC_Tutorial_1__Loading_Graph_Data_1.htm)


## Samples

A variety of online samples are uploaded at the [MindFusion Js Diagram website.](https://mindfusion.eu/products/javascript/diagramming/samples) You can also visit the [online demo for Js Diagram.](https://mindfusion.co/demos/?sample=102) You can download an archive with all samples and all files for the library [from here.](http://mindfusion.eu/JsDiagramTrial.zip)


## Additional Information

Learn more about JS Diagram [from the official product page.](https://mindfusion.eu/javascript-diagram.html) Stay in touch with MindFusion about our latest product announcements, tutorials and programming guidelines via  [Twitter](https://twitter.com/MindFusion_News) or [our company blog.](https://mindfusion.eu/blog/)



## Technical Support

* [Forum](https://mindfusion.eu/Forum/YaBB.pl?board=jsdiag_disc)
* [E-mail](mailto:support@mindfusion.eu)
* [Help desk](https://www.mindfusion.eu/HelpDesk/index.php)

## Licensing

The end-user license agreement for JS Diagram is [here.](https://mindfusion.eu/eula.html)


